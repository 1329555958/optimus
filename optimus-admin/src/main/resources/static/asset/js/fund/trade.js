/*! hx 2016-05-17 13 */
require("app").register.controller("fundTradeController",function($scope,$myhttp,$timeout){var pagination=$scope.pagination={currentPage:1,totalPage:0};$scope.type="",$scope.memberId="";$scope.types=[{text:"全部",value:""},{text:"申购",value:"INVEST"},{text:"赎回",value:"REDEEM"}];$scope.loading=!1,$scope.orders=[],$scope.startDate=new Date((new Date).getTime()-864e5),$scope.endDate=new Date;var moment=require("moment");$scope.query=function(page){var param={};$scope.loading=!0,param.pageNum=page||1,param.pageSize=10,param.orderType=$scope.type,param.startTime=moment($scope.startDate).format("x"),param.endTime=moment($scope.endDate).format("x"),param.memberId=$scope.memberId,console.info("请求参数",param),$myhttp("loading",$scope).get("/fund/orders",param,function(result){pagination.currentPage=result.pageIndex,pagination.totalPage=result.pageCount,$scope.orders=result.result})},$timeout($scope.query,1e3)});