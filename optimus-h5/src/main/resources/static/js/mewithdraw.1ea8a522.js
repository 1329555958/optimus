/*! finlog 2016-05-18 09 */
function before(amount,pwd){return amount-0!=amount||0>amount-0?void mui.toast("请输入合法的提现金额"):0>=amount?void mui.toast("请输入大于0的金额"):pwd?-1!==balance&&amount>balance?void mui.toast("余额不足!"):!0:void mui.toast("请输入支付密码!")}function queryBalance(){mui.$get("/account/overview",null,function(data){balance=data.balance||0,$("#balanceMoney").text(data.vm.balanceV),$("#infoDlg").show()})}function withdrawAll(){$("#depositMoney").val(balance)}function withdraw(){if(!loading){var amount=$("#depositMoney").val(),pwd=$("#depositPwd").val();before(amount,pwd)&&(pwd=hex_sha1(pwd),amount-=0,loading=!0,$("#loading").show(),mui.$post("/account/withdraw",{amount:amount,memo:pwd},function(data){data.url?window.location.href=data.url:data.code&&0!=data.code?mui.toast(data.msg):mui.toast("提现失败!")},function(){loading=!1,$("#loading").hide()}))}}var balance=-1,loading=!1;mui.init({swipeBack:!0}),$("#withdrawBtn").on("tap",withdraw),queryBalance();